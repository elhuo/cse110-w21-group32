<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: controller.test.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: controller.test.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>/** Loading the module we're testing */
const controller = require("./controller");

/** Creating jest mocks (because loading module doesn't load dependencies) */
document.body.innerHTML =
    "&lt;div id='pomo-tab'>&lt;/div>" +
    "&lt;div id='short-break-tab'>&lt;/div>" +
    "&lt;div id='long-break-tab'>&lt;/div>";
startCountdown = jest.fn();
stopCountdown = jest.fn();

/** Testing set/getCycle functions, required to pass for other unit tests to work properly */
test("set/getCycle test, required to pass for other unit tests to work properly", () => {
    controller.setCycle(1);
    expect(controller.getCycle()).toBe(1);
    controller.setCycle(3);
    expect(controller.getCycle()).toBe(3);
    controller.setCycle(0);
    expect(controller.getCycle()).toBe(0);
});

/** Testing set/getNumPomos functions, required to pass for other unit tests to work properly */
test("set/getNumPomos test, required to pass for other unit tests to work properly", () => {
    controller.setNumPomos(1);
    expect(controller.getNumPomos()).toBe(1);
    controller.setNumPomos(3);
    expect(controller.getNumPomos()).toBe(3);
    controller.setNumPomos(0);
    expect(controller.getNumPomos()).toBe(0);
});

/** Testing startTimer function */
test("startTimer test", () => {
    controller.startTimer();
    expect(controller.getCycle()).toBe(0);
    expect(controller.getNumPomos()).toBe(0);
    expect(document.getElementById("pomo-tab").style.border).toBe("medium solid");
    expect(document.getElementById("short-break-tab").style.border).toBe("");
    expect(document.getElementById("long-break-tab").style.border).toBe("");
});

/** Testing changeCycles function for short break*/
test("changeCycles short break test", () => {
    controller.setCycle(0);
    controller.setNumPomos(0);
    controller.changeCycles();
    expect(controller.getCycle()).toBe(1);
    expect(controller.getNumPomos()).toBe(1);
    expect(document.getElementById("pomo-tab").style.border).toBe("");
    expect(document.getElementById("short-break-tab").style.border).toBe("medium solid");
    expect(document.getElementById("long-break-tab").style.border).toBe("");
});

/** Testing changeCycles function for long break*/
test("changeCycles short break test", () => {
    controller.setCycle(0);
    controller.setNumPomos(3);
    controller.changeCycles();
    expect(controller.getCycle()).toBe(2);
    expect(controller.getNumPomos()).toBe(0);
    expect(document.getElementById("pomo-tab").style.border).toBe("");
    expect(document.getElementById("short-break-tab").style.border).toBe("");
    expect(document.getElementById("long-break-tab").style.border).toBe("medium solid");
});

/** Testing stopTimer function */
test("stopTimer test", () => {
    controller.setCycle(2);
    controller.setNumPomos(1);
    controller.stopTimer();
    expect(controller.getCycle()).toBe(3);
    expect(controller.getNumPomos()).toBe(0);
    expect(document.getElementById("pomo-tab").style.border).toBe("medium solid");
    expect(document.getElementById("short-break-tab").style.border).toBe("medium solid");
    expect(document.getElementById("long-break-tab").style.border).toBe("medium solid");
});

/** Testing changeStyle function */
test("changeStyle test", () => {
    controller.setCycle(0);
    controller.changeStyle();
    expect(document.getElementById("pomo-tab").style.border).toBe("medium solid");
    expect(document.getElementById("short-break-tab").style.border).toBe("");
    expect(document.getElementById("long-break-tab").style.border).toBe("");
    controller.setCycle(2);
    controller.changeStyle();
    expect(document.getElementById("pomo-tab").style.border).toBe("");
    expect(document.getElementById("short-break-tab").style.border).toBe("");
    expect(document.getElementById("long-break-tab").style.border).toBe("medium solid");
});

/** Testing complete controller module functionality for full cycle including long break*/
test("changeCycles full cycle including long break test", () => {
    controller.startTimer();
    controller.changeCycles(); // 1st pomo completed
    controller.changeCycles(); // short break completed
    controller.changeCycles(); // 2nd pomo completed
    controller.changeCycles(); // short break completed
    expect(controller.getCycle()).toBe(0);
    expect(controller.getNumPomos()).toBe(2);
    controller.changeCycles(); // 3rd pomo completed
    expect(controller.getCycle()).toBe(1);
    expect(controller.getNumPomos()).toBe(3);
    controller.changeCycles(); // short break completed
    expect(controller.getCycle()).toBe(0);
    expect(controller.getNumPomos()).toBe(3);
    controller.changeCycles(); // 4th pomo completed
    expect(controller.getCycle()).toBe(2);
    expect(controller.getNumPomos()).toBe(0);
    expect(document.getElementById("pomo-tab").style.border).toBe("");
    expect(document.getElementById("short-break-tab").style.border).toBe("");
    expect(document.getElementById("long-break-tab").style.border).toBe("medium solid");
    controller.changeCycles(); // long break completed
    expect(controller.getCycle()).toBe(0);
    expect(controller.getNumPomos()).toBe(0);
    expect(document.getElementById("pomo-tab").style.border).toBe("medium solid");
    expect(document.getElementById("short-break-tab").style.border).toBe("");
    expect(document.getElementById("long-break-tab").style.border).toBe("");
    controller.stopTimer();
    expect(controller.getCycle()).toBe(3);
    expect(controller.getNumPomos()).toBe(0);
    expect(document.getElementById("pomo-tab").style.border).toBe("medium solid");
    expect(document.getElementById("short-break-tab").style.border).toBe("medium solid");
    expect(document.getElementById("long-break-tab").style.border).toBe("medium solid");
});
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Global</h3><ul><li><a href="global.html#button">button</a></li><li><a href="global.html#buttons">buttons</a></li><li><a href="global.html#changeCycles">changeCycles</a></li><li><a href="global.html#changeStyle">changeStyle</a></li><li><a href="global.html#chooseSound">chooseSound</a></li><li><a href="global.html#clickClose">clickClose</a></li><li><a href="global.html#clickHelp">clickHelp</a></li><li><a href="global.html#clickStart">clickStart</a></li><li><a href="global.html#clickStop">clickStop</a></li><li><a href="global.html#closePopup">closePopup</a></li><li><a href="global.html#controller">controller</a></li><li><a href="global.html#countdown">countdown</a></li><li><a href="global.html#cycle">cycle</a></li><li><a href="global.html#getCycle">getCycle</a></li><li><a href="global.html#getNumPomos">getNumPomos</a></li><li><a href="global.html#lBreakTime">lBreakTime</a></li><li><a href="global.html#numPomos">numPomos</a></li><li><a href="global.html#playAdjustSound">playAdjustSound</a></li><li><a href="global.html#pomoSound">pomoSound</a></li><li><a href="global.html#pomoTime">pomoTime</a></li><li><a href="global.html#sBreakTime">sBreakTime</a></li><li><a href="global.html#setCycle">setCycle</a></li><li><a href="global.html#setDuration">setDuration</a></li><li><a href="global.html#setInterval">setInterval</a></li><li><a href="global.html#setNumPomos">setNumPomos</a></li><li><a href="global.html#slideVolume">slideVolume</a></li><li><a href="global.html#startButton">startButton</a></li><li><a href="global.html#startCountdown">startCountdown</a></li><li><a href="global.html#startTimer">startTimer</a></li><li><a href="global.html#stopButton">stopButton</a></li><li><a href="global.html#stopCountdown">stopCountdown</a></li><li><a href="global.html#stopTimer">stopTimer</a></li><li><a href="global.html#sum">sum</a></li><li><a href="global.html#timer">timer</a></li><li><a href="global.html#toggleClosePopup">toggleClosePopup</a></li><li><a href="global.html#toggleSettingsPopup">toggleSettingsPopup</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 3.6.4</a> on Mon Mar 08 2021 03:16:27 GMT+0000 (Coordinated Universal Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
